<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">递归与回溯 | Sher的小博客</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "HonySher的小博客";
  mashiro_option.author_name = "Sher的小博客";
  mashiro_option.site_url = "https://sheriby.github.io";
  mashiro_option.v_appId = "GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz";
  mashiro_option.v_appKey = "mgOpfzbkHYqU92CV4IDlAUHQ";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/sheriby/cdn@1.1/img/cover/(9).png".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="https://sheriby.github.io">
          <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6https://raw.githubusercontent.com/sheriby/cdn/master/img/custom/head.jpg">
        </a>
      </div>
      <div class="header-info">
        <p>To Make Some Funny and Meaningful Things!</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="http://github.com/sheriby" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/social/github.png">
                  </a>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">Hony</span>
            <span class="shironeko">Sher的小博客</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/技术/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          技术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/生活/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          生活
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/资源/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          资源
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/随想/">
                          <i class="fa fa-commenting-o" aria-hidden="true"></i>
                          随想
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/转载/">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          转载
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    清单
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/tags/悦读/">
                          <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                          书单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/bangumi/">
                          <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                          番组
                        </a>
                      </li>
                    
                      <li>
                        <a href="/music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          歌单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/图集/">
                          <i class="fa fa-photo" aria-hidden="true"></i>
                          图集
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/links/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
                    友人帐
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/donate/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
                    赞赏
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
                    关于
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/about/">
                          <i class="fa fa-meetup" aria-hidden="true"></i>
                          我？
                        </a>
                      </li>
                    
                      <li>
                        <a href="/theme-sakura/">
                          <i class="fa iconfont icon-sakura" aria-hidden="true"></i>
                          主题
                        </a>
                      </li>
                    
                      <li>
                        <a href="/lab/">
                          <i class="fa fa-cogs" aria-hidden="true"></i>
                          Lab
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/client/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-android faa-vertical" aria-hidden="true"></i>
                    客户端
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/atom.xml">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
                    RSS
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://cdn.jsdelivr.net/gh/sheriby/cdn@1.11/img/cover/31.png);" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/sheriby/cdn@1.11/img/cover/31.png">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      递归与回溯</h1>
      <p class="entry-census">
        <span>
          <a href="sheriby.github.io">
            <img src="https://github.com/sheriby/cdn/blob/master/img/custom/head.jpg?raw=true">
          </a>
        </span>
        <span>
          <a href="sheriby.github.io">Hony Sher</a>
        </span>
        <span class="bull">
        ·</span>
        2019-7-24<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h1 id="递归与回溯"><a href="#递归与回溯" class="headerlink" title="递归与回溯"></a>递归与回溯</h1><h2 id="关于递归与回溯"><a href="#关于递归与回溯" class="headerlink" title="关于递归与回溯"></a>关于递归与回溯</h2><p>其实之前我们已经遇到了好多的递归的问题了，比如说动态规划里面的就用到了不少的递归，那种递归也可以转换成为递推。但是这里我们讲的是递归与回溯。何为回溯？</p>
<p>回溯算法实际上一个<strong>类似枚举的搜索尝试过程</strong>，主要是在搜索尝试过程中寻找问题的解，当发现已<strong>不满足求解条件时，就“回溯”返回，尝试别的路径。</strong>回溯法是一种选优搜索法，按选优条件向前搜索，以达到目标。但当探索到某一步时，发现原先选择并不优或达不到目标，就退回一步重新选择，这种<strong>走不通就退回再走的技术为回溯法，</strong>而满足回溯条件的某个状态的点称为“回溯点”。许多复杂的，规模较大的问题都可以使用回溯法，有“<strong>通用解题方法</strong>”的美称。</p>
<p>可以看出来递归其实是回溯的一个实现条件，一个算法既然和递归联系起来了，那免不了麻烦的事情，回溯法也是如此，需要我们对递归有着深层次的理解，才能够游刃有余的掌握。</p>
<p>看一下网上对回溯法的一些说明：</p>
<p>   回溯法一般都用在要给出多个可以实现最终条件的解的最终形式。回溯法要求<strong>对解要添加一些约束条件。</strong>总的来说，如果要解决一个回溯法的问题，通常要确定三个元素：</p>
<ol>
<li><p><strong>选择</strong>。对于每个特定的解，肯定是由<strong>一步步构建而来的</strong>，而每一步怎么构建，肯定都是有限个选择，要怎么选择，这个要知道；同时，在编程时候要定下，<strong>优先或合法的每一步选择的顺序</strong>，一般是通过多个if或者for循环来排列。</p>
</li>
<li><p><strong>条件</strong>。对于每个特定的解的某一步，他必然要符合某个解要求符合的条件，如果<strong>不符合条件，就要回溯</strong>，其实<strong>回溯也就是递归调用的返回。</strong></p>
</li>
<li><p><strong>结束</strong>。当到达一个特定结束条件时候，就认为这个一步步构建的解是符合要求的解了。把解存下来或者打印出来。对于这一步来说，有时候也可以另外写一个issolution函数来进行判断。注意，当到达第三步后，有时候还需要<strong>构建一个数据结构，把符合要求的解存起来，</strong>便于当得到所有解后，把解空间输出来。这个数据结构必须是<strong>全局的</strong>，作为参数之一传递给递归函数。</p>
</li>
</ol>
<p>对于回溯法来说，每次递归调用，很重要的一点是把每次递归的不同信息传递给递归调用的函数。而这里最重要的要传递给递归调用函数的信息，就是把上一步做过的某些事情的这个选择排除，避免重复和无限递归。另外还有一个信息必须传递给递归函数，就是进行了每一步选择后，暂时还没构成完整的解，这个时候前面所有选择的汇总也要传递进去。而且一般情况下，都是能从传递给递归函数的参数处，得到结束条件的。</p>
<p> 递归函数的参数的选择，要遵循四个原则：<br>1、必须要有一个临时变量(可以就直接传递一个字面量或者常量进去)<strong>传递不完整的解</strong>，因为每一步选择后，暂时还没构成完整的解，这个时候这个选择的不完整解，也要想办法传递给递归函数。也就是，把每次递归的不同情况传递给递归调用的函数。<br>2、可以有一个全局变量，用来存储完整的每个解，一般是个集合容器（也不一定要有这样一个变量，因为每次符合结束条件，不完整解就是完整解了，直接打印即可）。<br>3、最重要的一点，一定要在参数设计中，可以得到<strong>结束条件</strong>。一个选择是可以传递一个量n，也许是数组的长度，也许是数量，等等。</p>
<p>4、要保证递归函数返回后，<strong>状态可以恢复到递归前</strong>，以此达到真正回溯。</p>
<h2 id="递归与回溯的经典案列"><a href="#递归与回溯的经典案列" class="headerlink" title="递归与回溯的经典案列"></a>递归与回溯的经典案列</h2><h3 id="迷宫问题"><a href="#迷宫问题" class="headerlink" title="迷宫问题"></a>迷宫问题</h3><h4 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h4><p>看到之前回溯的概念我们可以非常轻易的想到迷宫问题。<strong>走不通就退回再走的技术为回溯法</strong>，迷宫不也是走不通就退回再走吗，非常的符合回溯法的使用条件。</p>
<p>至于迷宫问题的题目我就不多说了，就以下面的数组为例，起始点假如规定在左上角的<code>[1][1]</code>处，目标终点在右下角的<code>[10][25]</code>，请走迷宫，并显示程序所走的路径。下图中<strong>0表示路，1表示墙。**</strong></p>
<pre><code class="java">map = new int[][] {
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    {1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,0,1},
    {1,1,1,1,0,1,0,0,1,1,0,1,1,0,0,0,0,0,1,1,0,1,0,1,1,0,1},
    {1,1,0,0,0,1,1,1,1,1,0,1,1,0,1,1,1,0,1,1,0,1,0,0,0,0,1},
    {1,1,1,1,0,1,0,0,0,1,0,0,0,1,1,1,1,0,1,1,0,1,1,1,1,1,1},
    {1,0,0,1,0,1,0,1,0,1,0,0,0,0,0,1,1,0,1,1,0,1,0,1,0,0,1},
    {1,0,0,1,0,0,0,1,0,1,0,1,1,1,0,1,1,0,0,0,0,1,0,1,1,0,1},
    {1,0,1,1,1,1,1,1,0,1,0,1,1,0,1,1,1,0,0,1,1,1,0,0,0,0,1},
    {1,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,1,0,0,1,1,1,1,1,1,0,1},
    {1,1,0,1,1,1,1,1,1,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,1},
    {1,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,1},
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
};</code></pre>
<h4 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h4><p>我们很容易想到回溯但是到底如何回溯呢？我们要告诉程序如何去走这个迷宫，第一点就是，当四条路都可以走的时候我们怎么走？这是最关键的，我们要给程序设定一个初识的目标，遇到多路口先走什么。</p>
<pre><code>  0
0 x 0
  0</code></pre><p>这时我们可以规定一个策略就是先走右面，如果右面不通再走下面，如果再不通就走上面，如果还是不通就走上面。</p>
<p>使用<strong>→↓←↑</strong>的策略进行这一场的迷宫游戏。</p>
<p>那么有没有可能出现这样一种情况，四条路都不通。——怎么可能四条路都不通，四条路都不通你是怎么进来的？？？</p>
<p>唉~你错了，还真的有四条路都不通的情况，比如如下的图。</p>
<pre><code>     ↓   
   1 0 1
   1 x 1
   1 1 1</code></pre><p>不对啊，这条路上面不是通的吗？往上走不就完事了吗？但是我们是就是从上面下来的，还能再回到上面去吗？所以我们有必要把我们走过的路进行标记比如标记为2。如果走路的这个路确定是死路了，我们还可以将他标记为3，以和我们走过的路正确的路径进行区分。如果四周都是墙或者走过的路，那么<strong>这条路的递归就结束，回到选择这个递归的那个路口，开始下一条路的递归。这就是回溯的过程</strong>这样说可能很难听懂，不过看到了代码可就算是柳暗花明了。</p>
<h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><h5 id="处于路口-迷宫的某一个点-时找路的代码"><a href="#处于路口-迷宫的某一个点-时找路的代码" class="headerlink" title="处于路口(迷宫的某一个点)时找路的代码"></a><strong>处于路口(迷宫的某一个点)时找路的代码</strong></h5><pre><code class="java">// 递归与回溯
private boolean findWay(int i, int j) {
    //        count++;
    // 只有走到了目标终点的位置这个函数才会返回true
    if (map[map.length - 2][map[0].length - 2] == 2) {
        return true;
    } else {
        // == 0 代表这条路还没有走过
        if (map[i][j] == 0) {
            // 设为2 假定这条路可以走了
            map[i][j] = 2;
            // 找路的策略是：
            // 向下 -》 向右 -》 向上 -》 向左
            if (findWay(i + 1, j)) {
                return true;
            } else if (findWay(i, j + 1)) {
                return true;
            } else if (findWay(i - 1, j)) {
                return true;
            } else if (findWay(i, j - 1)) {
                return true;
            } else { // 四条路都走不通了
                map[i][j] = 3;
                return false;
            }
        } else { // 不是0可能是 1 2 3，反正就是不能走这条路
            return false;
        }
    }
}</code></pre>
<blockquote>
<p><strong>代码说明：</strong></p>
<ol>
<li><p>这个函数的返回值是什么意思？</p>
<p>函数的返回值是boolean，他<strong>只有在一个情况上返回的 是true，那就是走到了目标终点了</strong>。虽然下面也有几个return true，但是那些return true都是依靠if里面为真，而if里面为真只是依靠找到终点了。</p>
</li>
<li><p>下面的if为0是什么意思？</p>
<p>让我们找路给我们的坐标是i，j如果给定的就是一堵墙，走过了的或者死路，当然要返回false，让它进行下一个路口的探索。也就是下右上左的次序进行走路（其实什么顺序都可以啦，没什么太重要的，都可以走到终点的）。</p>
</li>
<li><p>最后的那个else returnfalse是？</p>
<p>这说明前面的四个递归返回的都是false，说明什么？<strong>四条路都是走不通的，那么就把这个点置为死路点，</strong>标记为3。</p>
</li>
<li><p>那这个不是只有一个点是3吗？？死路就这是一个点？</p>
<p>不是的，当这个点被置为死路3的时候，递归会回溯。比如下面的这个路。</p>
<pre><code>1 2 1
1 3 1
1 1 1</code></pre><p>（1,1）被标记为3之后，可别忘了(1,1)点是从(0,1)点走过来的。走路的顺序是下右上左。(0,1)点的下面返回false，于是走右面，不通，走上面，走过了，走左面，不通，于是(0,1)也被置为了3。</p>
<p>所以说<strong>被置为3的是通往死路的那一整条路</strong>啦~~递归就是这么神奇。</p>
</li>
</ol>
</blockquote>
<p>这个findWay函数写完了，直接调用<strong>findWay(1,1)</strong>就可以进行迷宫的探索了。（我们规定的是1,1是起点了）</p>
<h4 id="迷宫的输出结果"><a href="#迷宫的输出结果" class="headerlink" title="迷宫的输出结果"></a>迷宫的输出结果</h4><pre><code>==================Maze Result========================
# # # # # # # # # # # # # # # # # # # # # # # # # # # 
# X X X X #         X X X X     # #           # #   # 
# # # # X #     # # X # # X X X X X # #   #   # #   # 
# #     X # # # # # X # # N # # # X # #   #         # 
# # # # X # X X X # X X X # # # # X # #   # # # # # # 
#     # X # X # X # X X X N N # # X # #   #   #     # 
#     # X X X # X # X # # # N # # X       #   # #   # 
#   # # # # # # X # X # #   # # # X   # # #         # 
#   X X X X X X X # X # #   # # # X   # # # # # #   # 
# # X # # # # # # X X # #   # #   X X X X X X X X X # 
# # X X X X X X X X # # #         # # # # # # # # X # 
# # # # # # # # # # # # # # # # # # # # # # # # # # # </code></pre><p>这里我们使用#表示墙，X表示正确的路径，N表示走过的死路。空白的区域就是没有走过的路。可见这个下右上左的策略还是蛮不错的，走过的死路是比较上的。如果我们换成左上右下，那么结果又是如何呢？</p>
<pre><code>==================Maze Result========================
# # # # # # # # # # # # # # # # # # # # # # # # # # # 
# X X X X # N N N N X X X X X X # # N N N N N # # N # 
# # # # X # N N # # X # # N N X X X # # N # N # # N # 
# # N N X # # # # # X # # N # # # X # # N # N N N N # 
# # # # X # X X X # X     # # # # X # # N # # # # # # 
# N N # X # X # X # X         # # X # # N # N # N N # 
# N N # X X X # X # X # # #   # # X X N N # N # # N # 
# N # # # # # # X # X # # N # # # X X # # # N N N N # 
# N X X X X X X X # X # # N # # # X X # # # # # # N # 
# # X # # # # # # X X # # N # # N N X X X X X X X X # 
# # X X X X X X X X # # # N N N N # # # # # # # # X # 
# # # # # # # # # # # # # # # # # # # # # # # # # # # </code></pre><p>可以看出走过的死路是非常多的，但是无论怎么说都是可以到达终点的。毕竟我们这个题目是从左上角到右上角，我们选定的策略肯定是选右下啊。</p>
<p>在不知道起点终点的时候，我们可以四个策略都使用一下，看看哪个策略走的次数是最少的（有效的路，不算死路)。前面我的代码中也使用了count来计数，就是为了这一点。这样我们基本就可以确定走迷宫的最优路径了。</p>
<h3 id="八皇后问题"><a href="#八皇后问题" class="headerlink" title="八皇后问题"></a>八皇后问题</h3><h4 id="基本介绍-1"><a href="#基本介绍-1" class="headerlink" title="基本介绍"></a>基本介绍</h4><p>这个题目可以说是非常著名了，我学python的时候就在研究这个问题，但是当时怎么研究都研究不出来到底怎么解决这个问题。递归这种事我们都是不敢想的（递归那该有多难啊），回溯根本不知道回溯是什么玩意。不过现在有个递归和回溯这个武器，八皇后问题可以说只用几行代码就完事了。看一下百度百科对八皇后问题的解释</p>
<blockquote>
<p> <a href="https://baike.baidu.com/item/八皇后" target="_blank" rel="noopener">八皇后</a>问题，是一个古老而著名的问题，是<a href="https://baike.baidu.com/item/回溯算法/9258495" target="_blank" rel="noopener">回溯算法</a>的典型案例。该问题是国际西洋棋棋手马克斯·贝瑟尔于1848年提出：在8×8格的国际象棋上摆放八个皇后，使其不能互相攻击，即任意两个皇后都不能处于同一行、同一列或同一斜线上，问有多少种摆法。 <a href="https://baike.baidu.com/item/高斯/24098" target="_blank" rel="noopener">高斯</a>认为有76种方案。1854年在柏林的象棋杂志上不同的作者发表了40种不同的解，后来有人用图论的方法解出92种结果。计算机发明后，有多种计算机语言可以解决此问题。</p>
</blockquote>
<p>现在有个计算机，什么八皇后，就是八十皇后都么得问题。</p>
<h4 id="思路分析-1"><a href="#思路分析-1" class="headerlink" title="思路分析"></a>思路分析</h4><p>上面也说了，八皇后问题同样是回溯算法的典型案列。那么这个问题该如何回溯呢？迷宫问题是路走不通了我退回去重新走其他的路，那八皇后也很好理解了。皇后放不了了，我换其他地方重新放。</p>
<p>我们可以选择一行一行的放置皇后，这个显然不会对结果产生什么影响，你要是乐意一列一列放也是可以的。</p>
<p>大多数人解决这个问题都喜欢使用二维数组，第一个表示行，第二个表示列，数组的值表示有没有放置过皇后，我承认这样可行。但是真的有必要使用二维数组吗？我们使用一维数组不可以解决这个问题吗？比如使用一个一维数组int[8]。int[0]表示第一行皇后所在的列，我们只要按顺序去放置int[1],int[2]里的值就完事了，这不是很好喵~</p>
<p>下面就该说说八皇后的回溯了。首先我们也要和迷宫一样确定如何放置皇后，这里其实很容易，直接从第一列开始依次往后尝试呗。（这也是正常人的思想）如果某一列不可以放置皇后(要写个函数进行判断)，就往后放，如果已经是最后一列了。就直接返回false。回到上面的一行(<strong>回溯算法</strong>)，重新按顺序放置皇后。如果可以放置，就进入下面一行放置皇后，如果第八行的皇后都放置OK了就返回true，这是一种皇后的放置方法已经完成了，不过我们需要循环找到所有的皇后的放置的方法。</p>
<h4 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h4><h5 id="判断是否可以放置皇后"><a href="#判断是否可以放置皇后" class="headerlink" title="判断是否可以放置皇后"></a><strong>判断是否可以放置皇后</strong></h5><pre><code class="java">private boolean isValid(int n) {
    ++count2;
    for (int i = 0; i &lt; n; i++) {
        // 在同一列或者说是在同一个斜线上
        if (map[i] == map[n] || Math.abs(map[n] - map[i]) == Math.abs(n - i)) {
            return false;
        }
    }
    return true;
}</code></pre>
<blockquote>
<p><strong>代码说明：</strong></p>
<ol>
<li><p>count2++</p>
<p>这个是后面用来统计进行了多少次的皇后判断用的。</p>
</li>
<li><p>map[i] == map[n]?</p>
<p>我们说过了一维数组的值表示的是皇后所在的列，如果<strong>map[i] == map[n]那么就说明放置的皇后在同一列</strong>，返回的false。</p>
</li>
<li><p>Math.abs(map[n] - map[i]) == Math.abs(n - i)?</p>
<p>这个代表的意义就是<strong>列差的绝对值是等于行差的绝对值</strong>的。这个我都是使用斜率来理解的。斜率为1或者-1，那么两个  皇后就是在一天斜线上！斜率为其他值的就不算一天直线了吧，国际象棋的规则明白吧老弟~</p>
</li>
<li><p>这里我们只是和n前面那的皇后进行比较，那么后面呢？</p>
<p>后面个锤子啊，我们放置皇后的顺序是从第一列一次到第八列，后面的皇后还都没有放呢，当然不用来比较。</p>
</li>
</ol>
</blockquote>
<h5 id="在某一行开始放置皇后"><a href="#在某一行开始放置皇后" class="headerlink" title="在某一行开始放置皇后"></a><strong>在某一行开始放置皇后</strong></h5><pre><code class="java">private void check(int n) {
    if (n == max) {
        // 输出解决方案
        System.out.printf(&quot;%-3d&quot; + &quot;: &quot; + Arrays.toString(map) + &quot;\n&quot;, ++count);
        return;
    }

    for (int i = 0; i &lt; map.length; i++) {
        map[n] = i;
        if (isValid(n)) {
            check(n + 1);
        }
    }
}</code></pre>
<blockquote>
<p><strong>代码说明：</strong></p>
<ol>
<li><p>我只知道System.out.println，那个printf是什么鬼？</p>
<p>没学过c吗？printf是Java中用于格式化输出的语句，%-3d的意思就是三位数的整数，左对齐。</p>
</li>
<li><p>后面的for循环是？？？</p>
<p>如果不加上for循环的话我们啥都得不到，而且肯定是前面几个皇后的列值都很小的。比如说没有for循环的时候我们使用check(0)就是放置第一个皇后，第一个皇后置为i(一开始也就是0，因为没有for循环)，然后看在i处放置合不合理。如果合理就开始放置下面一个皇后，但是倘若是不合理呢？？不合理是不是直接就没了，程序也不会尝试其他的路径了。</p>
<p>如果加上这个for循环。合理自然很好，一路往下走。假如遇到了不合理的。（<strong>就算是合理的也会往后的</strong>）那for循环就会执行给我们尝试后面的列是否可行。如果for循环结束了都是不可行的。那么这一层的递归就结束了。就会返回上一层的递归。（<strong>就算这个合理了也是会返回上一层的递归的</strong>），在<strong>上一层寻找其他的放置皇后合理的地方</strong>。就这样一直回溯就可以找到八皇后的所有的解了。递归是真的神奇~~比如之前一直都不理解的<strong>归并排序</strong>。</p>
</li>
</ol>
</blockquote>
<h4 id="测试代码"><a href="#测试代码" class="headerlink" title="测试代码"></a>测试代码</h4><pre><code class="java">public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    System.out.print(&quot;Slove N Queue Problem: &quot;);
    int num = scanner.nextInt();
    Queue8 queue8 = new Queue8(num);
    System.out.println(&quot;=====THE SOLUTION OF &quot; + num + &quot;QUEUE PROBLEM=====&quot;);
    long start_time = System.currentTimeMillis();
    queue8.check(0);
    long end_time = System.currentTimeMillis();
    System.out.println();
    System.out.println(&quot;=====================SUMMARY=====================&quot;);
    System.out.println(&quot;THE NUMBERS OF &quot; + num + &quot;QUEUE SOLUTIONS IS &quot; + count);
    System.out.println(&quot;THE NUMBERS OF JUDGES IS &quot; + count2);
    long time = end_time - start_time;
    System.out.println(&quot;THE TIME USED IS &quot; + time + &quot;MS&quot;);
}</code></pre>
<p><strong>8皇后</strong></p>
<pre><code>=====================SUMMARY=====================
THE NUMBERS OF 8QUEUE SOLUTIONS IS 92
THE NUMBERS OF JUDGES IS 15720
THE TIME USED IS 1MS</code></pre><p>这里的解决方案没有输出，因为太长了，顶不住啊。由此可见是92种，看来天才高斯也有错误的时候啊~~嘤嘤嘤</p>
<p><strong>12皇后</strong></p>
<pre><code>=====================SUMMARY=====================
THE NUMBERS OF 12QUEUE SOLUTIONS IS 14200
THE NUMBERS OF JUDGES IS 10103868
THE TIME USED IS 154MS</code></pre><p><strong>20皇后</strong></p>
<pre><code>.....
等了好长的时间（20秒）都没有输出，这个判断函数执行的次数我感觉肯定有上百亿次。。。估计我再不退出就可能
会发生栈溢出了。。。还是不等这个输出结果了吧。</code></pre><p>上面的两个问题都是我亲手完成和研究的问题，不过递归和回溯算法的题目不止如此，下面看几个网上看到的几个题目。</p>
<h3 id="括号排列"><a href="#括号排列" class="headerlink" title="括号排列"></a>括号排列</h3><h4 id="基本介绍-2"><a href="#基本介绍-2" class="headerlink" title="基本介绍"></a>基本介绍</h4><blockquote>
<p>给出n对括号，求括号排列的所有可能性。</p>
</blockquote>
<h4 id="思路分析-2"><a href="#思路分析-2" class="headerlink" title="思路分析"></a>思路分析</h4><p>对于回溯法来说，必须齐备的三要素：</p>
<p>1、<strong>选择</strong>。在这个例子中，解就是一个合法的括号组合形式，而选择无非是<strong>放入左括号，还是放入右括号</strong>；</p>
<p>2、<strong>条件</strong>。在这个例子中，选择是放入左括号，还是放入右括号，是有条件约束的，不是随便放的。而<strong>这个约束就是括号的数量。</strong>只有<strong>剩下的右括号比左括号多，才能放右括号</strong>。只有<strong>左括号数量大于0才能放入左括号</strong>。这里if的顺序会影响输出的顺序，但是不影响最终解；</p>
<p>3、<strong>结束</strong>。这里的结束条件很显然就是，<strong>左右括号都放完了</strong>。</p>
<p>回溯法中，参数的设计是一大难点，也是很重要的地方。而递归参数的设计要注意的四个点：</p>
<p>1、用了一个空字符串来作为临时变量存储不完整解；</p>
<p>2、用了一个ArrayList<string> results来存放符合要求的解。在后面可以看到，不一定要这样做，也可以直接打印结果；</string></p>
<p>3、<strong>把leftnum和rightnum传入给递归函数，这样可以用于判断结束条件</strong>；</p>
<h4 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现"></a>代码实现</h4><pre><code class="java">import java.util.ArrayList;

public class BackTracking {
    public static void main(String[] args) {
        int n = 3;
        int leftnum = n, rightnum = n;// 左括号和右括号都各有n个
        ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();// 用于存放解空间
        parentheses(&quot;&quot;, results, leftnum, rightnum);
        for (String s : results)
            System.out.println(s);
    }

    public static void parentheses(String sublist, ArrayList&lt;String&gt; results, int leftnum, int rightnum){
        if (leftnum == 0 &amp;&amp; rightnum == 0)// 结束
            results.add(sublist);
        if (rightnum &gt; leftnum)// 选择和条件。对于不同的if顺序，输出的结果顺序是不一样的，但是构成一样的解空间
            parentheses(sublist + &quot;)&quot;, results, leftnum, rightnum - 1);
        if (leftnum &gt; 0)
            parentheses(sublist + &quot;(&quot;, results, leftnum - 1, rightnum);
    }
}</code></pre>
<blockquote>
<p><strong>代码说明：</strong></p>
<ol>
<li><p>parentheses函数的参数的说明</p>
<ul>
<li>@param sublist 尚未完成的括号串</li>
<li>@param results 存放已经完成的括号串的字符串</li>
<li>@param leftnum 左括号的数量</li>
<li>@param rightnum 右括号的数量</li>
</ul>
</li>
<li><p>回溯算法如何实现的？</p>
<p>其实这个算法我倒是感觉没有什么回溯的味道，就是单纯的递归而已。当剩下的左括号和右括号的数量都为0的时候，就是一条递归终止，然后将结果放入集合中。</p>
<p>当剩下的右括号的数量比较多的时候（放入的左括号的数量大于放入的右括号的数量）此时就放入右括号。（如何剩下的右括号的数量小于等于左括号的数量放入右括号是非法的）</p>
<p>当还有剩下的左括号，就放入左括号。</p>
<p>这或许有点不好理解，下面的两个条件其实是在同步进行的。比如说</p>
<pre><code>比如要放四个括号，遇到了这样的字符串 (()(
经过第二个条件的判断产生的递归的分支是 (()()
经过第三个条件的判断产生的递归的分支是 (()((</code></pre><p>通过了上面的说明就可以理解，不存在少了哪一种情形。每一次的递归都是一种结果。不过，这个算法里面是真的没有回溯这个部分，只是递归而已。</p>
</li>
</ol>
</blockquote>
<p>不过作者偏说这个有回溯的部分。</p>
<p>4、这个例子不明显。但是事实上也符合这个条件。可以仔细观察代码，可以发现由于使用了两个if，所以当一次递归退出后，例如从第一个if退出，第二个递归直接递归的是leftnum-1和rightnum，这其实是已经恢复状态了（如果没有恢复状态，那就是leftnum, rightnum-1）。因此不需要人为让他恢复状态。但是恢复状态这点是很重要的，因为回溯法，顾名思义要回溯，不恢复状态，怎么回溯呢。</p>
<pre><code class="java">if(rightnum&gt;leftnum)//选择和条件。对于不同的if顺序，输出的结果顺序是不一样的，但是构成一样的解空间
    parentheses(sublist+&quot;)&quot;, results, leftnum, rightnum-1);
if(leftnum&gt;0)
    parentheses(sublist+&quot;(&quot;, results, leftnum-1, rightnum);</code></pre>
<p>把这个称为是回溯，确实是有点儿牵强。每一个递归都是这样使用的不是吗？因为每一层递归不在一个栈空间，在同一个栈空间的数据当然是相同的，自然不用人为恢复状态。</p>
<h3 id="数字之和"><a href="#数字之和" class="headerlink" title="数字之和"></a>数字之和</h3><h4 id="基本介绍-3"><a href="#基本介绍-3" class="headerlink" title="基本介绍"></a>基本介绍</h4><blockquote>
<p>给出一个不重复大于0数字的数组和一个目标，求数组中数的组合的和得到该目标（数字不同组合顺序当做一个解）。</p>
</blockquote>
<p>这个和leetcode上的第一题两数之和是有点儿像的，不过这个题目似乎是没有规定这些数的个数是2，那么难度就不是一倍两倍的往上涨了。两数之和可以使用排序双指针轻松解决，不过这个题目使用排序双指针似乎有点儿困难。</p>
<h4 id="思路分析-3"><a href="#思路分析-3" class="headerlink" title="思路分析"></a>思路分析</h4><h4 id="代码实现-3"><a href="#代码实现-3" class="headerlink" title="代码实现"></a>代码实现</h4><pre><code class="java">
public class BackTracking {
    public static void main(String[] args){
        int[] num=new int[]{2,3,7,6，4,9,1};
        int target=9;
        find(num, target, &quot;&quot;);
    }
    public static void find(int[] num, int target, String temp){
        if(issolution(temp,target)){
            System.out.println(temp);
            return;
        }
        for(int i=0;i&lt;num.length;i++){
            if(num[i]!=-1){//如果取过这个数字了，就置为-1
                int k=num[i];
                num[i]=-1;
                find(num, target, temp+k);
                num[i]=k; // 恢复取出的数据的值。
            }
        }
}
    public static boolean issolution(String temp, int target){
        boolean result=false;
        int count=0;
        for(int i=0;i&lt;temp.length();i++){
            count=count+Integer.valueOf(temp.charAt(i)+&quot;&quot;);
        }
        if(count==target)
            result=true;
        return result;
    }
}</code></pre>
<blockquote>
<p><strong>代码说明：</strong></p>
<ol>
<li><p>for循环里面？</p>
<p>其实这一整块的代码只有for循环的里面是需要说明的。首先先记录一下放入组合中的那个数据，然后将之置为0.然后再次递归，这样在那个递归的find里面数组的num[i]就为-1了。在后面将i再次恢复到-1从而不影响其他的递归空间。下面的那个issolution函数也非常的容易理解。</p>
</li>
</ol>
</blockquote>
<h4 id="代码存在的问题"><a href="#代码存在的问题" class="headerlink" title="代码存在的问题"></a>代码存在的问题</h4><p>首先这个代码不是我写的，但是我再研究了多道递归的题目的时候还是看出了一个代码其实还是有不少的问题的。</p>
<p>首先我们看一下这个问题的输出如何：</p>
<pre><code>234
27
261
243
216
324
36
342
72
621
63
612
423
432
9
126
162</code></pre><p>不得不说这个结果的输出就是非常乱的，首先没有任何的分隔符告诉我是那些数的组合，其次，全是重复！！！这个算法其实就是暴力破解法，效率是特别的低的。可以改进的空间非常大！</p>
<p>首先输出得改善，第二得去重复，第三要考虑到效率问题。针对这三个点，我重写了这个代码。</p>
<h4 id="重写代码"><a href="#重写代码" class="headerlink" title="重写代码"></a>重写代码</h4><pre><code class="java">public class BackTracking2 {
    public static void main(String[] args) {
        int[] num = new int[] { 2, 3, 7, 6, 4, 9, 1};
        Arrays.sort(num);
        int target = 9;
//      find(num, 0, target, &quot;&quot;);
        find(num, target);
    }

    public static void find(int[] num, int loc, int target, String temp) {
        int result = issolution(temp, target);
        if (result == 0) {
            System.out.println(temp);
            return;
        }
        if (result &gt; 0) {
            // 和都已经大于target了， 再增加已经没有任何的意义了
            return;
        }
        for (int i = loc; i &lt; num.length; i++) {
            if (num[i] &lt;= target) {// 如果取过这个数字了，就置为-1
                find(num, i + 1, target, (temp + num[i]) + &quot; &quot;);
            } else {
                return;
            }
        }
    }

    // 可以重载一下，是调用更加简洁
    public static void find(int[] num, int target){
        find(num, 0, target, &quot;&quot;);
    }

    public static int issolution(String temp, int target) {
        int count = 0;
        for (int i = 0; i &lt; temp.length() / 2; i++) {
            count = count + Integer.valueOf(temp.charAt(2 * i) + &quot;&quot;);
        }
        if (count &gt; target)
            return 1;
        if (count &lt; target)
            return -1;
        return 0;
    }
}</code></pre>
<blockquote>
<p><strong>输出结果：</strong></p>
<p>1 2 6<br>2 3 4<br>2 7<br>3 6<br>9 </p>
</blockquote>
<p>可见这个输出结果就是很舒服的</p>
<blockquote>
<p><strong>代码说明：</strong></p>
<ol>
<li><p>关于输出</p>
<p>输出添加了空格主要就是修改了上面的23,31,32这几行，这个修改起来相对简单容易理解。</p>
</li>
<li><p>关于重复</p>
<p>其实重复这个问题也蛮好解决的，只要好马不吃回头草就行了。你想想看比如<code>2，3，7，6</code>假如我挑选的是已经把所有的包含2的都挑选完了，那么在我挑选3的时候，为何还要继续挑选前面的2呢？我们只需要给函数加上一个参数loc，告诉他从什么位置开始挑选就可以完美地解决这个问题了。</p>
</li>
<li><p>关于效率</p>
<p>原先的真的是暴力算法，一点效率都没有。首先是作为自以为完美的将num[i]置为-1，然后再还原的操作，虽然说的确是很秀但是真的没有必要。还有issoluation函数的返回值，完美可以返回大于小于和等于，然后<strong>利用大于可以直接结束递归。</strong>还有就是将num数组进行排序，虽然说不排序也可以做，但是排序之后的效率将变得高的多，而且还可以在函数中<strong>利用num[i] &gt; target就直接结束这个函数</strong>（num数组是递增的），可以说是提高了效率。</p>
</li>
</ol>
<p>不过说修改之后的函数就没有问题了，这也是不可能的，我认为还是可以继续改进的，不过做到这一块已经可以说是基本上差不多了。</p>
</blockquote>
<h3 id="字符串排列"><a href="#字符串排列" class="headerlink" title="字符串排列"></a>字符串排列</h3><h4 id="基本介绍-4"><a href="#基本介绍-4" class="headerlink" title="基本介绍"></a>基本介绍</h4><blockquote>
<p>给一个字符串，给出他的所有排列</p>
</blockquote>
<p>什么叫字符串的所有的排列呢？就比如说给定的字符串是abc，他的所有的排列就是</p>
<pre><code>abc acb bac bca cab cba</code></pre><p>总共有 A<sup>3</sup><sub>3</sub> = 3! = 3 × 2 × 1= 6 种 </p>
<h4 id="思路分析-4"><a href="#思路分析-4" class="headerlink" title="思路分析"></a>思路分析</h4><p>这个其实也是一种放东西类型的题目，和上面的那一个题目倒是有一点儿类似，不对，应该说是有点儿儿完全一样，就是上面的那一个题目改进前的那个算法。毕竟这玩意是需要重复的嘛。</p>
<h4 id="代码实现-4"><a href="#代码实现-4" class="headerlink" title="代码实现"></a>代码实现</h4><pre><code class="java">public class StringArrange {
    public static void main(String[] args) {
        String s = &quot;abc&quot;;
        Arrange(s, &quot;&quot;);
    }

    public static void Arrange(String s, String temp) {// 参数设计地尽量地简洁
        if (s.length() == 0) {
            System.out.println(temp);
            return;
        }
        for (int i = 0; i &lt; s.length(); i++) {
            String news = s.substring(0, i) + s.substring(i + 1, s.length());// 去掉String中的某个字母
            Arrange(news, temp + s.charAt(i));
        }
    }
}

// 既然你要说参数设计要简洁的话为啥不给这个函数一个重载呢？
public static void Arrange(String s){
    Arrange(s, &quot;&quot;);
}
// 然后直接这样子调用不就完事了
String s = &quot;abc&quot;;
Arrange(s);</code></pre>
<blockquote>
<p><strong>输出结果：</strong></p>
<p>abc<br>acb<br>bac<br>bca<br>cab<br>cba</p>
</blockquote>
<blockquote>
<p><strong>代码说明：</strong></p>
<p>这个其实没有什么要说明的地方，不过要注意的一点是<strong>java当中substring的第二个参数是结束的位置（不包括），C++中的substr()的第二个参数是子串的长度。</strong>关于这一点，我也算是佛了！</p>
</blockquote>
<p>还有一个与之比较类似的题目。</p>
<h3 id="新字符串"><a href="#新字符串" class="headerlink" title="新字符串"></a>新字符串</h3><p>给定一个字符串<code>S</code>，通过将字符串<code>S</code>中的每个字母转变大小写，我们可以获得一个新的字符串。返回所有可能得到的字符串集合。</p>
<p>这个题目可以直接用前面的回溯算法，而且真的特别的简单，至于效率，应该不是很快吧。不过真的是特别容易理解。</p>
<h3 id="代码实现-5"><a href="#代码实现-5" class="headerlink" title="代码实现"></a>代码实现</h3><pre><code class="java">public class NewStr {
    public static void main(String[] args) {
        String a = &quot;ak47A&quot;;
  //    newStr(a, 0, &quot;&quot;);
        newStr(a);
    }

    public static void newStr(String a, int i, String temp) {
        if (i == a.length()) {
            System.out.println(temp);
            return;
        }

        if (Character.isAlphabetic(a.charAt(i))) {
            String temp2 = new String(temp);
            temp += a.charAt(i);
            newStr(a, i+1, temp);
            if (Character.isLowerCase(a.charAt(i))) {
                temp2 += Character.toUpperCase(a.charAt(i));
            }else {
                temp2 += Character.toLowerCase(a.charAt(i));
            }
            newStr(a, i+1, temp2);
        }else {
            temp += a.charAt(i);
            newStr(a, i+1, temp);
        }
    }

    public static void newStr(String a){
        newStr(a, 0, &quot;&quot;);
    }
}</code></pre>
<blockquote>
<p><strong>输出结果：</strong></p>
<p>ak47A<br>ak47a<br>aK47A<br>aK47a<br>Ak47A<br>Ak47a<br>AK47A<br>AK47a</p>
</blockquote>
<blockquote>
<p><strong>代码说明：</strong></p>
<p>这个代码实在是太容易理解了，不用说什么了。里面用到了几个库函数，看函数的名字大概就可以知道函数的意思了。</p>
</blockquote>
<p>我看到博主使用的代码有点沙雕，不过思路是完全一样子的（我可没有看这个函数起名都花里胡哨的代码，dfs。。。to784To？？？我佛了）。这里就直接说我上面的那个算法就完事了，至于博主的算法直接贴出来就完事了。</p>
<pre><code class="java">public void dfs(String pre, String S, List&lt;String&gt; res, int index) {
    if (index == S.length())
        res.add(pre);
    else {
        char ch = S.charAt(index);
        if (!Character.isLetter(ch))
            dfs(pre + ch, S, res, index + 1);
        else {
            // 小写字符分支
            ch = Character.toLowerCase(ch);
            dfs(pre + ch, S, res, index + 1);
            // 大写字符分支
            ch = Character.toUpperCase(ch);
            dfs(pre + ch, S, res, index + 1);
        }
    }
}

public List&lt;String&gt; letterCasePermutation(String S) {
    List&lt;String&gt; res = new LinkedList&lt;&gt;();
    dfs(&quot;&quot;, S, res, 0);
    return res;
}

// 测试
public static void main(String[] args) {
    String S = &quot;a1b&quot;;
    To784To to784To = new To784To();
    System.out.println(to784To.letterCasePermutation(S));
}</code></pre>
<h3 id="子集问题"><a href="#子集问题" class="headerlink" title="子集问题"></a>子集问题</h3><blockquote>
<p>给定一个集合，求他的所有的子集</p>
</blockquote>
<p>就不上什么思路分析了，直接代码</p>
<h4 id="代码实现-6"><a href="#代码实现-6" class="headerlink" title="代码实现"></a>代码实现</h4><pre><code class="java">public class Subsets {
    public static List&lt;ArrayList&lt;Integer&gt;&gt; res = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();

    public static List&lt;ArrayList&lt;Integer&gt;&gt; subsets(int[] arr) {
        ArrayList&lt;Integer&gt; curr = new ArrayList&lt;Integer&gt;();
        subsets(arr, curr, 0);

        // System.out.println(res);
        return res;
    }

    public static void subsets(int[] arr, ArrayList&lt;Integer&gt; curr, int start) {
        res.add(new ArrayList&lt;Integer&gt;(curr)); // 如果不这样放，最后就都是空
        if (start == arr.length) {
            return;
        }
        for (int i = start; i &lt; arr.length; i++) {
            curr.add(arr[i]);
            subsets(arr, curr, i + 1);
            curr.remove(curr.size() - 1);
        }
    }

    public static void main(String[] args) {
        int[] arr = { 1, 2, 3 };
        subsets(arr);
    }
}
</code></pre>
<blockquote>
<p>要注意一点的是，<strong>放入res的时候，如果不new的话，放入的就是引用，</strong>（<strong>Java万物都是引用</strong>）最后就都会变成空的集合。这一点上<strong>C++和Java的区别</strong>要尤其的注意。这两门语言名义上说是很像，但是这点差的真的是特别的大。我也是佛了。</p>
</blockquote>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>递归与回溯确实有点儿难以掌握，刚才去leetcode上面看了一题，还是有点儿懵，虽然有了思路 ，但是并不能完全的写下去，唉，还是要多加的训练才能基本掌握这门高深的“通用解题方法”啊。</p>
<p><strong>参考了一点的文章</strong>: <a href="https://blog.csdn.net/sinat_27908213/article/details/80599460" target="_blank" rel="noopener">回溯算法超通俗易懂详尽分析和例题</a></p>

        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">赏<div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6https://raw.githubusercontent.com/sheriby/cdn/master/img/custom/donate/AliPayQR.jpg"></li>
                <li class="wechat-code"><img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6https://raw.githubusercontent.com/sheriby/cdn/master/img/custom/donate/WechatPayQr.png"></li>
              </ul>
            </div>
          </div>
        </div>
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2019/07/25/Sunday字符串匹配算法/" rel="prev">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/sheriby/cdn@1.11/img/cover/32.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/sheriby/cdn@1.11/img/cover/32.jpg">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                Sunday字符串匹配算法</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2019/07/23/二叉树的广度优先和深度优先遍历/" rel="next">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/sheriby/cdn@1.11/img/cover/30.png" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/sheriby/cdn@1.11/img/cover/30.png">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                二叉树的广度优先和深度优先遍历</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz",
        appKey: "mgOpfzbkHYqU92CV4IDlAUHQ",
        path: window.location.pathname,
        placeholder: "你是我一生只会遇见一次的惊喜 ..."
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <a href="sheriby.github.io" class="profile gravatar"><img src="https://github.com/sheriby/cdn/blob/master/img/custom/head.jpg?raw=true" itemprop="image" alt="Hony Sher" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="sheriby.github.io" itemprop="url" rel="author">Hony Sher</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>一枚小菜鸡</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            // PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Hony Sher<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2019</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a href="https://2heng.xin/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6https://raw.githubusercontent.com/sheriby/cdn/master/img/custom/head.jpg">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">HonySher的小博客</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="http://github.com/sheriby" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
        <a href="https://wpa.qq.com/msgrd?v=3&uin=1970734379&site=qq&menu=yes" class="fa fa-qq" target="_blank" style="color: #25c6fe; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/技术/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  技术
                </a>
              </li>
            
              <li>
                <a href="/categories/生活/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  生活
                </a>
              </li>
            
              <li>
                <a href="/categories/资源/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  资源
                </a>
              </li>
            
              <li>
                <a href="/categories/随想/">
                  <i class="fa fa-commenting-o" aria-hidden="true"></i>
                  随想
                </a>
              </li>
            
              <li>
                <a href="/categories/转载/">
                  <i class="fa fa-book" aria-hidden="true"></i>
                  转载
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            清单
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/tags/悦读/">
                  <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                  书单
                </a>
              </li>
            
              <li>
                <a href="/bangumi/">
                  <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                  番组
                </a>
              </li>
            
              <li>
                <a href="/music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  歌单
                </a>
              </li>
            
              <li>
                <a href="/tags/图集/">
                  <i class="fa fa-photo" aria-hidden="true"></i>
                  图集
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/links/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
            友人帐
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/donate/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
            赞赏
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
            关于
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/about/">
                  <i class="fa fa-meetup" aria-hidden="true"></i>
                  我？
                </a>
              </li>
            
              <li>
                <a href="/theme-sakura/">
                  <i class="fa iconfont icon-sakura" aria-hidden="true"></i>
                  主题
                </a>
              </li>
            
              <li>
                <a href="/lab/">
                  <i class="fa fa-cogs" aria-hidden="true"></i>
                  Lab
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/client/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-android faa-vertical" aria-hidden="true"></i>
            客户端
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/atom.xml">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
            RSS
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<div class="aplayer"

    data-id="2660651585"

    data-server="netease"

    data-type="playlist"

    data-fixed="true"

    data-autoplay="false"

    data-loop="all"

    data-order="random"

    data-preload="auto"

    data-volume="0.7"

    data-mutex="true"

</div>
<script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>